<?xml version="1.0" encoding="utf-8"?>
<MotionScene xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <!-- Transition 1: Start -> Enlarged -->
    <Transition
        android:id="@+id/scale_up_transition"
        app:constraintSetStart="@id/start"
        app:constraintSetEnd="@id/enlarged"
        app:duration="300"
        app:autoTransition="none" />

    <!-- Transition 2: Enlarged -> End -->
    <Transition
        android:id="@+id/final_reveal_transition"
        app:constraintSetStart="@id/enlarged"
        app:constraintSetEnd="@id/end"
        app:duration="500"
        app:autoTransition="animateToEnd">

        <!-- Keyframe to control color transition during translation -->
        <KeyFrameSet>
            <KeyAttribute
                android:id="@id/logoWhite"
                app:framePosition="50">
                <CustomAttribute
                    app:attributeName="colorFilter"
                    app:customColorValue="@color/blue" />
            </KeyAttribute>
        </KeyFrameSet>
    </Transition>

    <!-- START State -->
    <ConstraintSet android:id="@+id/start">
        <Constraint android:id="@id/backgroundView">
            <CustomAttribute
                app:attributeName="backgroundColor"
                app:customColorValue="@color/blue" />
        </Constraint>

        <Constraint android:id="@id/logoWhite">
            <PropertySet android:alpha="1" />
            <CustomAttribute
                app:attributeName="colorFilter"
                app:customColorValue="@color/white" />
        </Constraint>

        <Constraint
            android:id="@id/logoTextBlue"
            android:layout_width="96dp"
            android:layout_height="35dp"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="parent">
            <PropertySet android:alpha="0" />
        </Constraint>

        <Constraint android:id="@id/TODO">
            <PropertySet android:alpha="0" />
            <Transform android:translationY="40dp" />
        </Constraint>
    </ConstraintSet>

    <!-- ENLARGED State -->
    <ConstraintSet android:id="@+id/enlarged">
        <Constraint android:id="@id/backgroundView">
            <CustomAttribute
                app:attributeName="backgroundColor"
                app:customColorValue="@color/blue" />
        </Constraint>

        <Constraint android:id="@id/logoWhite">
            <Transform android:scaleX="2.0" android:scaleY="2.0" />
            <PropertySet android:alpha="1" />
            <CustomAttribute
                app:attributeName="colorFilter"
                app:customColorValue="@color/white" />
        </Constraint>

        <Constraint
            android:id="@id/logoTextBlue"
            android:layout_width="96dp"
            android:layout_height="35dp"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="parent">
            <PropertySet android:alpha="0" />
        </Constraint>

        <Constraint android:id="@id/TODO">
            <PropertySet android:alpha="0" />
            <Transform android:translationY="40dp" />
        </Constraint>
    </ConstraintSet>

    <!-- END State -->
    <ConstraintSet android:id="@+id/end">
        <Constraint android:id="@id/backgroundView">
            <CustomAttribute
                app:attributeName="backgroundColor"
                app:customColorValue="@color/white" />
        </Constraint>

        <Constraint
            android:id="@id/logoTextBlue"
            android:layout_width="96dp"
            android:layout_height="35dp"
            android:layout_marginEnd="10dp"
            app:layout_constraintHorizontal_chainStyle="packed"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toStartOf="@id/logoWhite">
            <PropertySet android:alpha="1" />
        </Constraint>

        <Constraint
            android:id="@id/logoWhite"
            android:layout_width="85dp"
            android:layout_height="45dp"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toEndOf="@id/logoTextBlue"
            app:layout_constraintEnd_toEndOf="parent">
            <Transform
                android:scaleX="1.0"
                android:scaleY="1.0" />
            <PropertySet android:alpha="1" />
            <CustomAttribute
                app:attributeName="colorFilter"
                app:customColorValue="@color/blue" />
        </Constraint>

        <Constraint android:id="@id/TODO">
            <PropertySet android:alpha="1" />
            <Transform android:translationY="0dp" />
        </Constraint>
    </ConstraintSet>

</MotionScene>